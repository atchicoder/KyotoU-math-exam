import { Problem } from "../../types";

export const Bunkei2021: Problem[] = [
  {
    "year": 2021,
    "number": 1,
    "category": "文系",
    "content": {
      "question": "10進法で表された数 \\(6.75\\) を2進法で表せ。また、この数と2進法で表された数 \\(101.0101\\) との積として与えられる数を2進法および4進法で表せ。\n\n\\(\\triangle OAB\\) において \\(OA=3\\)，\\(OB=2\\)，\\(\\angle AOB=60^\\circ\\) とする。\\(\\triangle OAB\\) の垂心を \\(H\\) とするとき，\\(\\overrightarrow{OH}\\) を \\(\\overrightarrow{OA}\\) と \\(\\overrightarrow{OB}\\) を用いて表せ。",
      "hints": [
        "整数部分と小数部分を分けて2進法に変換します。",
        "小数部分は \\(0.75 \\times 2\\) を繰り返し計算して求めます。",
        "積を計算した後、結果をそれぞれ2進法および4進法に変換します。",
        "垂心 \\(H\\) の座標は、\\(\\triangle OAB\\) の頂点から引いた垂線の交点として求めます。",
        "垂線の式をベクトル方程式として立て、それらの交点を計算します。"
      ],
      "solution": {
        "binary": "積の2進法表記: \\(100011.110111\\)",
        "quaternary": "積の4進法表記: \\(203.313\\)",
        "vector": "\\(\\overrightarrow{OH} = \\frac{1}{9}\\overrightarrow{OA} + \\frac{2}{3}\\overrightarrow{OB}\\)"
      },
      "detailedSolution": [
        "(1) 1. \\(6.75\\) を2進法で表す：",
        "  整数部分 \\(6\\) を2進法に変換すると \\(6_{(10)} = 110_{(2)}\\)。",
        "  小数部分 \\(0.75\\) を2進法に変換するために \\(0.75 \\times 2 = 1.5 \\ (1)\\), 続けて \\(0.5 \\times 2 = 1.0 \\ (1)\\) より、\\(0.75_{(10)} = 0.11_{(2)}\\)。",
        "  よって \\(6.75_{(10)} = 110.11_{(2)}\\)。",
        "2. 与えられた数 \\(101.0101_{(2)}\\) を10進法に変換する：",
        "  \\(101.0101_{(2)} = 4 + 0 + 1 + 0.25 + 0.0625 = 5.3125_{(10)}\\)。",
        "3. 積を計算する：",
        "  \\(6.75 \\times 5.3125 = 35.859375\\)。",
        "4. 積を2進法で表す：",
        "  整数部分 \\(35\\) の2進法表記は \\(100011_{(2)}\\)。",
        "  小数部分 \\(0.859375\\) を2進法で計算すると \\(0.859375 \\to 0.110111_{(2)}\\)。",
        "  よって \\(35.859375_{(10)} = 100011.110111_{(2)}\\)。",
        "5. 積を4進法で表す：",
        "  2進法表記 \\(100011.110111_{(2)}\\) を2桁ずつ区切る。",
        "  整数部分：\\(100011_{(2)} = 203_{(4)}\\)。",
        "  小数部分：\\(110111_{(2)} = 313_{(4)}\\)。",
        "  よって \\(35.859375_{(10)} = 203.313_{(4)}\\)。",
        "\n(2)  1. \\(\\overrightarrow{OH}\\) を求める：",
        "  \\(O\\) を原点とし、\\(\\overrightarrow{OA} = (3, 0)\\)、\\(\\overrightarrow{OB} = (1, \\sqrt{3})\\) とおく。",
        "  垂心 \\(H\\) の座標を求めるには、\\(A\\) から \\(OB\\) に引いた垂線と \\(B\\) から \\(OA\\) に引いた垂線の交点を計算します。",
        "  \\(OB\\) の方向ベクトルは \\((1, \\sqrt{3})\\)、これに垂直なベクトルは \\((-\\sqrt{3}, 1)\\)。",
        "  頂点 \\(A(3, 0)\\) を通る垂線の方程式は、",
        "  \\[(x, y) = (3, 0) + t(-\\sqrt{3}, 1)\\] です。",
        "  一方、\\(B\\) から \\(OA\\) に引いた垂線は、\\(x = 1\\) の直線です。",
        "  これらの交点を求めます。",
        "  まず \\(x = 1\\) を代入すると、",
        "  \\[1 = 3 - t\\sqrt{3} \\quad \\Rightarrow \\quad t = \\frac{2}{\\sqrt{3}}\\]",
        "  このときの \\(y\\) 座標は、",
        "  \\[y = t = \\frac{2}{\\sqrt{3}}\\]",
        "  よって、\\(H\\) の座標は \\((1, \\frac{2}{\\sqrt{3}})\\) となります。",
        "  \\(\\overrightarrow{OH}\\) を \\(\\overrightarrow{OA}\\) と \\(\\overrightarrow{OB}\\) の線形結合として表すために、",
        "  \\[\\overrightarrow{OH} = \\alpha \\overrightarrow{OA} + \\beta \\overrightarrow{OB}\\]",
        "  とおきます。",
        "  \\(\\overrightarrow{OA} = (3, 0)\\)、\\(\\overrightarrow{OB} = (1, \\sqrt{3})\\)、\\(\\overrightarrow{OH} = (1, \\frac{2}{\\sqrt{3}})\\) を代入し、成分ごとに比較します。",
        "  \\(x\\) 成分について：",
        "  \\[1 = 3\\alpha + \\beta\\]",
        "  \\(y\\) 成分について：",
        "  \\[\\frac{2}{\\sqrt{3}} = 0\\alpha + \\beta \\sqrt{3} \\quad \\Rightarrow \\quad \\beta = \\frac{2}{3}\\]",
        "  \\(\\beta = \\frac{2}{3}\\) を \\(x\\) の式に代入すると、",
        "  \\[1 = 3\\alpha + \\frac{2}{3} \\quad \\Rightarrow \\quad 3\\alpha = 1 - \\frac{2}{3} = \\frac{1}{3} \\quad \\Rightarrow \\quad \\alpha = \\frac{1}{9}\\]",
        "  よって、",
        "  \\[\\overrightarrow{OH} = \\frac{1}{9}\\overrightarrow{OA} + \\frac{2}{3}\\overrightarrow{OB}\\]"
      ]
    }
  },
  {
    year: 2021,
    number: 2,
    category: "文系",
    content: {
      question: "定積分 \\( \\displaystyle \\int_{-1}^{1} \\left| x^2 - \\frac{1}{2}x - \\frac{1}{2} \\right| dx \\) を求めよ。",
      hints: [
        "絶対値の中身の二次関数がゼロになるxを求め、区間ごとに場合分けする。",
        "二次関数の符号が変わる点で積分を分割し、それぞれの区間で適切な関数を積分する。",
        "絶対値を外した後、原始関数を求めて定積分を計算する。"
      ],
      solution: {
        "解答": "\\( \\displaystyle \\frac{19}{24} \\)"
      },
      detailedSolution: [
        "関数 \\( f(x) = x^2 - \\frac{1}{2}x - \\frac{1}{2} \\) のゼロになる\\(x \\)を求める。",
        "方程式 \\( x^2 - \\frac{1}{2}x - \\frac{1}{2} = 0 \\) を解くと、解は \\( x = 1 \\) または \\( x = -\\frac{1}{2} \\) となる。",
        "関数の符号変化を調べると、区間 \\( [-1, -\\frac{1}{2}] \\) では \\( f(x) \\geq 0 \\)、区間 \\( (-\\frac{1}{2}, 1] \\) では \\( f(x) \\leq 0 \\) となる。",
        "したがって、積分を \\( \\displaystyle \\int_{-1}^{-\\frac{1}{2}} f(x) dx + \\int_{-\\frac{1}{2}}^{1} -f(x) dx \\) に分割する。",
        "関数 \\( f(x) \\) の原始関数は \\( F(x) = \\frac{1}{3}x^3 - \\frac{1}{4}x^2 - \\frac{1}{2}x \\) である。",
        "区間 \\( [-1, -\\frac{1}{2}] \\) の積分を計算すると、\\( \\frac{11}{48} \\) となる。",
        "区間 \\( [-\\frac{1}{2}, 1] \\) の積分を計算すると、\\( \\frac{9}{16} \\) となる。",
        "合計すると、\\( \\frac{11}{48} + \\frac{9}{16} = \\frac{19}{24} \\) となる。",
        "したがって、求める定積分の値は \\( \\boxed{\\frac{19}{24}} \\) である。"
      ]
    }
  },
  {
    "year": 2021,
    "number": 3,
    "category": "文系",
    "content": {
      "question": "整数 \\( n \\) を \\( n \\geq 2 \\) とする。番号 1 から \\( n \\) までの \\( n \\) 個の箱があり、それぞれの箱には赤玉と白玉が 1 個ずつ入っている。\n\nこのとき、以下の操作 (＊) を \\( k=1, \\dots, n-1 \\) の順に 1 回ずつ行う。\n\n(＊) 番号 \\( k \\) の箱から玉を 1 個取り出し、番号 \\( k+1 \\) の箱に入れてよくかきまぜる。\n\nすべての操作が終了した後、番号 \\( n \\) の箱から玉を 1 個取り出し、番号 1 の箱に入れる。\n\nこのとき、最終的に番号 1 の箱に赤玉と白玉が 1 個ずつ入っている確率を求めよ。",
      "hints": [
        "最初の操作で箱 1 から取り出された玉が赤か白かに注目する。",
        "各箱 \\( k \\) での玉の状態を確率的に追跡する。",
        "漸化式を立てて \\( p_k \\)（赤 1, 白 2 の確率）と \\( q_k \\)（赤 2, 白 1 の確率）の推移を求める。",
        "最終的に箱 1 に赤 1, 白 1 となる条件を考える。"
      ],
      "solution": {
        "finalProbability": "\\[ \\frac{3^{n-1} + 1}{2 \\cdot 3^{n-1}} \\]"
      },
      "detailedSolution": [
        "各箱 \\( k \\) (\\( 2 \\le k \\le n \\)) において、赤 1, 白 2 となる確率を \\( p_k \\)、赤 2, 白 1 となる確率を \\( q_k \\) と定義する。これらは常に \\( p_k + q_k = 1 \\) を満たす。",
        "操作 (＊) で箱 \\( k \\) から箱 \\( k+1 \\) に玉を移すとき、箱 \\( k \\) が (赤 1, 白 2) の場合は赤 1/3, 白 2/3 の確率で取り出される。一方、(赤 2, 白 1) の場合は赤 2/3, 白 1/3 の確率で取り出される。その結果、箱 \\( k+1 \\) はそれぞれ (赤 1, 白 2) または (赤 2, 白 1) になり、以下の漸化式が成り立つ：",
        "\\[ p_{k+1} = \\frac{2}{3} p_k + \\frac{1}{3} q_k, \\quad q_{k+1} = \\frac{1}{3} p_k + \\frac{2}{3} q_k. \\]",
        "ここで、\\( p_k - q_k \\) の差を考えると、",
        "\\[ p_{k+1} - q_{k+1} = \\left( \\frac{2}{3} p_k + \\frac{1}{3} q_k \\right) - \\left( \\frac{1}{3} p_k + \\frac{2}{3} q_k \\right) = \\frac{1}{3}(p_k - q_k). \\]",
        "よって、箱 2 の状態によって決まる初期値 \\( p_2 - q_2 \\) を使えば、一般に",
        "\\[ p_k - q_k = (p_2 - q_2) \\left( \\frac{1}{3} \\right)^{k-2} \\quad (k \\ge 2). \\]",
        "以下、最初の操作で『箱 1 から取り出した玉』が赤の場合と白の場合に分ける。",
        "\n【場合 1】最初に赤を取り出したとき",
        " - 箱 1 には白玉 1 個が残る。箱 2 は (赤 2, 白 1) となるため、\\( p_2 = 0, \\; q_2 = 1 \\)。",
        " - このとき初期値 \\( p_2 - q_2 = -1 \\)。したがって、\\( p_k - q_k = - (1/3)^{k-2} \\)。",
        " - また \\( p_k + q_k = 1 \\) なので、\\( p_k = \\frac{1}{2} - \\frac{1}{2} (1/3)^{k-2}, \\; q_k = \\frac{1}{2} + \\frac{1}{2} (1/3)^{k-2}. \\)",
        " - 最終的に箱 \\( n \\) が (赤 1, 白 2) である確率は \\( p_n = \\frac{1}{2} - \\frac{1}{2} (1/3)^{n-2} \\)、(赤 2, 白 1) である確率は \\( q_n = \\frac{1}{2} + \\frac{1}{2} (1/3)^{n-2} \\)。",
        " - 箱 \\( n \\) が (赤 1, 白 2) のときは赤玉を取り出す確率 1/3、白玉を取り出す確率 2/3。箱 \\( n \\) が (赤 2, 白 1) のときは赤玉 2/3、白玉 1/3。よって (赤玉が戻る) 確率は \\( \\frac{1}{3} p_n + \\frac{2}{3} q_n \\)。計算すると、",
        "   \\[ \\frac{1}{3}\\Bigl(\\frac{1}{2} - \\frac{1}{2} (\\tfrac{1}{3})^{n-2}\\Bigr) + \\frac{2}{3}\\Bigl(\\frac{1}{2} + \\frac{1}{2} (\\tfrac{1}{3})^{n-2}\\Bigr) = \\frac{1}{2} + \\frac{1}{6} (\\tfrac{1}{3})^{n-2}. \\]",
        " - 箱 1 には白玉が残っているので、赤 1, 白 1 となるためにはこの『戻ってくる玉』が赤である必要がある。したがって、場合 1 全体では確率 1/2 (最初に赤を取り出す) にさらに \\( \\tfrac{1}{2} + \\tfrac{1}{6}(\\tfrac{1}{3})^{n-2} \\) をかける。",
        "\n【場合 2】最初に白を取り出したとき",
        " - 箱 1 には赤玉 1 個が残る。箱 2 は (赤 1, 白 2) となるため、\\( p_2 = 1, \\; q_2 = 0 \\)。",
        " - このとき初期値 \\( p_2 - q_2 = +1 \\)。したがって、\\( p_k - q_k = + (1/3)^{k-2} \\)。",
        " - よって \\( p_k = \\frac{1}{2} + \\frac{1}{2} (1/3)^{k-2}, \\; q_k = \\frac{1}{2} - \\frac{1}{2} (1/3)^{k-2}. \\)",
        " - 箱 \\( n \\) が (赤 1, 白 2) になる確率は \\( p_n = \\frac{1}{2} + \\frac{1}{2} (1/3)^{n-2} \\)、(赤 2, 白 1) の確率は \\( q_n = \\frac{1}{2} - \\frac{1}{2} (1/3)^{n-2} \\)。",
        " - (白玉が戻る) 確率は \\( \\frac{2}{3} p_n + \\frac{1}{3} q_n \\)。計算すると、やはり \\( \\frac{1}{2} + \\frac{1}{6} (\\tfrac{1}{3})^{n-2} \\)。",
        " - 箱 1 には赤玉が残っているので、赤 1, 白 1 となるためには『戻ってくる玉』が白である必要がある。よって場合 2 全体では確率 1/2 (最初に白を取り出す) に \\( \\tfrac{1}{2} + \\tfrac{1}{6}(\\tfrac{1}{3})^{n-2} \\) をかける。",
        "【合算】",
        "最終的に、箱 1 が赤 1, 白 1 となる確率 \\( P_n \\) は、上の 2 場合を合算する：",
        "\\[ P_n = \\frac{1}{2} \\Bigl(\\frac{1}{2} + \\frac{1}{6}(\\tfrac{1}{3})^{n-2}\\Bigr) + \\frac{1}{2} \\Bigl(\\frac{1}{2} + \\frac{1}{6}(\\tfrac{1}{3})^{n-2}\\Bigr). \\]",
        "同じ値が 2 回足されるので、最終的に",
        "\\[ P_n = \\frac{1}{2} + \\frac{1}{6}(\\tfrac{1}{3})^{n-2}. \\]",
        "さらに \\( (\\tfrac{1}{3})^{n-2} = \\tfrac{1}{3^{n-2}} = 3 \\cdot \\tfrac{1}{3^{n-1}} \\) の計算や係数整理によって、",
        "\\[ P_n = \\frac{1}{2} + \\frac{1}{2} \\cdot \\frac{1}{3^{n-1}} = \\frac{3^{n-1} + 1}{2 \\cdot 3^{n-1}}. \\]"
      ]
    }
  },
  {
    "year": 2021,
    "number": 4,
    "category": "文系",
    "content": {
      "question": "空間の8点 \\( O(0, 0, 0), A(1, 0, 0), B(1, 2, 0), C(0, 2, 0), D(0, 0, 3), E(1, 0, 3), F(1, 2, 3), G(0, 2, 3) \\) を頂点とする直方体 \\( OABC-DEFG \\) を考える。点 \\( O \\), 点 \\( F \\), 辺 \\( AE \\) 上の点 \\( P \\), および辺 \\( CG \\) 上の点 \\( Q \\) の4点が同一平面上にあるとする。このとき、四角形 \\( OPFQ \\) の面積 \\( S \\) を最小にするような点 \\( P \\) および点 \\( Q \\) の座標を求めよ。また、そのときの \\( S \\) の値を求めよ。",
      "hints": [
        "点 \\( O, F, P, Q \\) が同一平面上にあることを利用して、\\( \\overrightarrow{OF} = s \\overrightarrow{OP} + t \\overrightarrow{OQ} \\) という関係式を立てる。",
      ],
      "solution": {
        "P": "\\( \\left(1, 0, \\frac{3}{5}\\right) \\)",
        "Q": "\\( \\left(0, 2, \\frac{12}{5}\\right) \\)",
        "S": "\\( \\frac{2\\sqrt{70}}{5} \\)"
      },
      "detailedSolution": [
        "点 \\( P \\) は辺 \\( AE \\) 上にあるため、座標は \\( P(1, 0, z) \\) とおける。同様に、点 \\( Q \\) は辺 \\( CG \\) 上にあるため、\\( Q(0, 2, z') \\) とおける。",
        "4点 \\( O, F, P, Q \\) が同一平面上にあるためには、\\( \\overrightarrow{OF} = s \\overrightarrow{OP} + t \\overrightarrow{OQ} \\) が成立する。成分ごとに整理すると、\\( 1 = s,  2 = 2t,  3 = sz + tz' \\) より、\\( s = 1, t = 1, z + z' = 3 \\) を得る。",
        "このとき、\\( \\overrightarrow{OP} \\) と \\( \\overrightarrow{OQ} \\) は平行四辺形の隣接辺をなすため、面積は以下の式で表される：\\( S = \\sqrt{|\\overrightarrow{OP}|^2 + |\\overrightarrow{OQ}|^2 - (\\overrightarrow{OP} \\cdot \\overrightarrow{OQ})^2} \\)",
        "各ベクトルの長さと内積を計算し、\\( S = \\sqrt{5z^2-6z+13} \\)を得る。２次式 \\( 5z^2 - 6z + 13 \\) の平方完成を行うことで最小値を求める。",
        "平方完成により \\( 5\\left(z - \\frac{3}{5}\\right)^2 + \\frac{56}{5} \\) となるため、\\(S \\)の最小値は \\( \\frac{2\\sqrt{70}}{5} \\) であり、対応する \\( P, Q \\) の座標は \\( P = \\left(1, 0, \\frac{3}{5}\\right), Q = \\left(0, 2, \\frac{12}{5}\\right) \\) である。"
      ]
    }
  },
  {
    "year": 2021,
    "number": 5,
    "category": "文系",
    "content": {
        "question": "素数 \\( p \\) に対して、\\( p^4 + 14 \\) が素数でないことを示せ。",
        "hints": [
            "小さい素数 \\( p = 2, 3, 5 \\) について直接確認する。",
            "素数 \\( p \\) を 3 で割った余りに基づき、\\( p = 3 \\), \\( p = 3k+1 \\), \\( p = 3k+2 \\) に分類する。"
        ],
        "solution": {
            "解答": "\\( p^4 + 14 \\) は素数でない。"
        },
        "detailedSolution": [
            "**素数 \\( p \\) を 3 で割った余りで分類**",
            "**ケース1：\\( p = 3 \\) のとき、\\( p^4 + 14 = 3^4 + 14 = 81 + 14 = 95 \\) であり、\\( 5 \\times 19 \\) に分解できるので合成数である。\n",
            "**ケース2：\\( k \\)を自然数とし、\\(p = 3k + 1 \\) の場合**",
            "\\( p = 3k + 1 \\) のとき、\\( p^4 = (3k + 1)^4 \\) を展開すると、",
            "\\( p^4 = 81k^4 + 108k^3 + 54k^2 + 12k + 1 \\) となる。",
            "これに 14 を加えると、",
            "\\( p^4 + 14 = 81k^4 + 108k^3 + 54k^2 + 12k + 1 + 14 = 81k^4 + 108k^3 + 54k^2 + 12k + 15 \\) となる。",
            "この式は 3 の倍数であるため、\\( p^4 + 14 \\) は 3 の倍数となる。したがって、\\( p > 3 \\) の場合は合成数である。\n",
            "**ケース3：\\( p = 3k + 2 \\) の場合**",
            "\\( p = 3k + 2 \\) のとき、\\( p^4 = (3k + 2)^4 \\) を展開すると、",
            "\\( p^4 = 81k^4 + 216k^3 + 216k^2 + 96k + 16 \\) となる。",
            "これに 14 を加えると、",
            "\\( p^4 + 14 = 81k^4 + 216k^3 + 216k^2 + 96k + 16 + 14 = 81k^4 + 216k^3 + 216k^2 + 96k + 30 \\) となる。",
            "この式も 3 の倍数であるため、\\( p^4 + 14 \\) は 3 の倍数となる。したがって、\\( p > 3 \\) の場合は合成数である。\n",
            "**結論**",
            "すべての素数 \\( p \\) に対して \\( p^4 + 14 \\) は合成数であることが示された。"
        ]
    }
  }
];

export default Bunkei2021;

import { Problem } from "../../types";

export const Rikei2024: Problem[] = [
  {
    "year": 2024,
    "number": 1,
    "category": "理系",
    "content": {
      "question": "異なる \\( n \\) 色を用意し、立方体の各面にいずれかの色を塗る。各面にどの色を塗るかは同様に確からしいとする。辺を共有するどの二つの面にも異なる色が塗られる確率を \\( p_n \\) とする。\n\n(1) \\( p_4 \\) を求めよ。\n(2) \\( \\displaystyle\\lim_{n\\to\\infty} p_n \\) を求めよ。",
      "hints": [
        "1. 立方体の面をどのように塗るかをすべて数え、そのうち辺を共有する面が異なる色になる場合を求める。"
      ],
      "solution":
        "(1) \\( p_4 = \\frac{3}{128} \\) \n   (2) \\( \\displaystyle\\lim_{n\\to\\infty} p_n = 1 \\)"
      ,
      "detailedSolution": [
        "### (1) \\( p_4 \\) の求め方",
        "まず、立方体の各面に色を塗る方法の総数は \\( 4^6 = 4096 \\) 通り。",
        "一方、隣接する面が異なる色になるような塗り方を数え上げる。",
        "まず、上面の色を固定（4通り）し、隣接する4枚の側面を交互に塗る適切彩色を求める。",
        "側面4枚は長さ4の閉路をなすので、3色または4色を使って適切彩色する方法があり、それぞれの場合の数を求める。",
        "その後、下面の彩色の仕方を考慮し、総数を計算すると、",
        "\\[ p_4 = \\frac{96}{4096} = \\frac{3}{128} \\].",
        "",
        "### (2) \\( \\lim_{n\\to\\infty} p_n \\) の求め方",
        "まず、立方体の各面を適切に彩色する場合の数を求める。",
        "上面の色を固定（\\( n \\) 通り）し、側面の彩色方法を以下のように場合分けする。",
        "",
        "#### **(a) 3色使う場合（側面で2色、下面で1色）**",
        "1. \\( n-1 \\) 色の中から2色を選び、交互に配置する方法は \\( 2 _{n-1}C_2 \\) 通り。",
        "2. 下面は上面の色と同じにすることで全体の色数を3色に抑える（1通り）。",
        "3. よって、この場合の有効彩色数は \\[ N_{3\\text{-col}} = n \\cdot 2 _{n-1}C_2. \\]",
        "",
        "#### **(b) 4色使う場合（側面で2色＋新色、または側面で3色）**",
        "1. 側面で2色を使い、下面で新たな色（合計4色）を使う場合の通り数は \\( n \\cdot 2 _{n-1}C_2 \\cdot(n-3) \\)。",
        "2. 側面で3色を使い、適切な塗り方の通り数は \\( 2\\cdot 3!\\cdot _{n-1}C_3 \\), 下面の色を上面と同じにする（1通り）。",
        "3. よって、この場合の有効彩色数は \\[ N_{4\\text{-col}} = n \\cdot \\left[ 2 _{n-1}C_2 \\cdot(n-3) + 12 _{n-1}C_3 \\right]. \\]",
        "",
        "#### **(c) 5色使う場合（側面で3色＋新色、または側面で4色）**",
        "1. 側面で3色を使い、下面で新たな色（合計5色）を使う場合の通り数は \\( n \\cdot 2\\cdot3!\\cdot _{n-1}C_3 (n-4) \\)。",
        "2. 側面で4色を使い、適切な塗り方の通り数は \\( 4! \\cdot _{n-1}C_4 \\), 下面の色を上面と同じにする（1通り）。",
        "3. よって、この場合の有効彩色数は \\[ N_{5\\text{-col}} = n \\cdot \\left[ 12 n_{n-1}C_3 (n-4) + 24 n_{-1}C_4 \\right]. \\]",
        "",
        "#### **(d) 6色以上使う場合（側面で4色＋新色）**",
        "1. 側面で4色を使い、下面でさらに新色を加える場合（合計6色以上）。",
        "2. 適切な塗り方の通り数は \\( 4!\\cdot _{n-1}C_4 \\), 下面の色は \\( (n-5) \\) 通り。",
        "3. よって、この場合の有効彩色数は \\[ N_{6\\text{-col}} = n \\cdot 24 \\cdot_{n-1}C_4 \\cdot (n-5). \\]",
        "",
        "### **(3) 確率 \\( p_n \\) の計算**",
        "有効彩色の合計は",
        "\\[ N_{\\text{valid}} = N_{3\\text{-col}} + N_{4\\text{-col}} + N_{5\\text{-col}} + N_{6\\text{-col}}. \\]",
        "これを \\( n^6 \\) で割って確率を求める。",
        "計算の結果、",
        "\\[ p_n = 1 - \\frac{12}{n} + \\frac{58}{n^2} - \\frac{137}{n^3} + \\frac{154}{n^4} - \\frac{64}{n^5}. \\]",
        "よって、\\( n \\to \\infty \\) のとき、\\( p_n \\) は 1 に収束する。"
      ]
    }
  },
  {
    "year": 2024,
    "number": 2,
    "category": "理系",
    "content": {
        "question": "複素数 \\( x \\) は \\( |x| \\leqq 2 \\) を満たし、複素数 \\( y \\) は \\( |y - (8+6i)| = 3 \\) を満たす。\n\nこのとき、\n\\[\n z = \\frac{x+y}{2}\n\\]\nと定める。\n\nこのような複素数 \\( z \\) が複素数平面において動く領域を求め、その面積を求めよ。",
        "hints": [
            "1. 中点の存在範囲を図形的に考えてみる。"
        ],
        "solution": "複素数 \\( z \\) が動く領域は、中心 \\( (4,3) \\) 、内半径 \\( \\frac{1}{2} \\) 、外半径 \\( \\frac{5}{2} \\) のドーナツ状の領域（アニュラス）であり、その面積は \\( 6\\pi \\) である。",
        "detailedSolution": [
            "### 1. 各変数の表現",
            "複素数 \\( x \\) は \\( x = a + bi \\) （\\( a, b \\) は実数）と表され、条件 \\( |x| \\leq 2 \\) から\n\\[\na^2 + b^2 \\leq 4\n\\]\nが成り立つ。",
            "複素数 \\( y \\) は \\( |y - (8+6i)| = 3 \\) を満たすので、実数 \\( \\theta \\) を用いて\n\\[\ny = 8 + 6i + 3(\\cos\\theta + i\\sin\\theta)\n\\]\nと書ける。",
            "与えられた \\( z \\) は\n\\[\nz = \\frac{x + y}{2}\n\\]\nであるため、これを代入すると\n\\[\nz = \\frac{a+bi}{2} + \\frac{8+6i}{2} + \\frac{3}{2}(\\cos\\theta + i\\sin\\theta).\n\\]\n整理すると\n\\[\nz = \\left(4 + \\frac{a}{2} + \\frac{3}{2}\\cos\\theta\\right) + i\\left(3 + \\frac{b}{2} + \\frac{3}{2}\\sin\\theta\\right).\n\\]",
            "### 2. \\( z \\) の動く範囲",
            "この式より、\\( z \\) は点 \\( (4,3) \\) のまわりで、\n\\( \\frac{a}{2} + \\frac{3}{2}\\cos\\theta \\) が \\( x \\) 成分の変動、\n\\( \\frac{b}{2} + \\frac{3}{2}\\sin\\theta \\) が \\( y \\) 成分の変動を決める。",
            "ここで、\n- \\( \\frac{x}{2} \\) は原点中心半径 \\( 1 \\) の円板全体を動く。\n- \\( \\frac{3}{2}(\\cos\\theta + i\\sin\\theta) \\) は原点中心半径 \\( \\frac{3}{2} \\) の円周上を動く。",
            "したがって、\\( z \\) は点 \\( (4,3) \\) を中心とし、内半径 \\( \\frac{3}{2} - 1 = \\frac{1}{2} \\) 、外半径 \\( \\frac{3}{2} + 1 = \\frac{5}{2} \\) の間の領域を動くことが分かる。",
            "つまり、\\( z \\) の動く領域は次の条件を満たす：\n\\[\n\\frac{1}{2} \\leq |z - (4+3i)| \\leq \\frac{5}{2}.\n\\]",
            "### 3. 面積の計算",
            "この領域の面積は、外側の円の面積から内側の円の面積を引いて求める。",
            "- 外側の円の面積：\n  \\[\n  A_{\\text{外}} = \\pi\\left(\\frac{5}{2}\\right)^2 = \\pi \\frac{25}{4}.\n  \\]",
            "- 内側の円の面積：\n  \\[\n  A_{\\text{内}} = \\pi\\left(\\frac{1}{2}\\right)^2 = \\pi \\frac{1}{4}.\n  \\]",
            "したがって、求める面積は\n\\[\nA = A_{\\text{外}} - A_{\\text{内}} = \\pi\\left(\\frac{25}{4} - \\frac{1}{4}\\right) = \\pi \\frac{24}{4} = 6\\pi.\n\\]",
            "### 4. 結論",
            "複素数 \\( z \\) の動く領域は、点 \\( (4,3) \\) を中心とする内半径 \\( \\frac{1}{2} \\) 、外半径 \\( \\frac{5}{2} \\) の同心円状の領域（ドーナツ状の領域、境界線を含む）であり、その面積は\n\\[6\\pi\\]\nである。"
        ]
    }
  },
  {
    year: 2024,
    number: 3,
    category: "理系",
    content: {
      question: "座標空間の4点 \\( O \\), \\( A \\), \\( B \\), \\( C \\) は同一平面上にないとする。線分 \\( OA \\) の中点を \\( P \\), 線分 \\( AB \\) の中点を \\( Q \\) とする。実数 \\( x \\), \\( y \\) に対して、直線 \\( OC \\) 上の点 \\( X \\) と、直線 \\( BC \\) 上の点 \\( Y \\) を次のように定める。\n\n\\[ \\overrightarrow{OX}=x\\overrightarrow{OC},  \\overrightarrow{BY}=y\\overrightarrow{BC} \\]\n\nこのとき，直線 \\( QY \\) と直線 \\( PX \\) がねじれの位置にあるための \\( x, \\, y \\) に関する必要十分条件を求めよ。",
      hints: [
        "1. 各点の位置ベクトルを定義し、\\( P \\), \\( Q \\), \\( X \\), \\( Y \\) の位置ベクトルを求める。",
        "2. 直線 \\( PX \\) と \\( QY \\) の方向ベクトルを計算し、平行または交わる条件を調べる。",
        "3. ねじれ線の条件として、平行でも交わってもいないことを確認し、\\( x, y \\) に関する条件を導く。"
      ],
      solution: "直線 \\( QY \\) と直線 \\( PX \\) がねじれ線となるための必要十分条件は \\( x \\neq y \\) である。",
      detailedSolution: [
        "### 1. 各点の位置ベクトル",
        "点 \\( P \\) と \\( Q \\) の位置ベクトルは、それぞれ",
        "\\[ \\overrightarrow{OP} = \\frac{1}{2} \\overrightarrow{OA}, \\quad \\overrightarrow{OQ} = \\frac{1}{2} \\big( \\overrightarrow{OA} + \\overrightarrow{OB} \\big). \\]",
        "また、\\( X \\) と \\( Y \\) の位置ベクトルは",
        "\\[ \\overrightarrow{OX} = x \\overrightarrow{OC}, \\quad \\overrightarrow{OY} = (1 - y) \\overrightarrow{OB} + y \\overrightarrow{OC}. \\]",
        "",
        "### 2. 直線の方向ベクトル",
        "直線 \\( PX \\) の方向ベクトルは",
        "\\[ \\overrightarrow{PX} = \\overrightarrow{OX} - \\overrightarrow{OP} = x \\overrightarrow{OC} - \\frac{1}{2} \\overrightarrow{OA}. \\]",
        "直線 \\( QY \\) の方向ベクトルは",
        "\\[ \\overrightarrow{QY} = \\overrightarrow{OY} - \\overrightarrow{OQ} = -\\frac{1}{2} \\overrightarrow{OA} + \\bigg( \\frac{1}{2} - y \\bigg) \\overrightarrow{OB} + y \\overrightarrow{OC}. \\]",
        "",
        "### 3. 直線が平行になる条件",
        "直線が平行であるためには、方向ベクトルが定数倍の関係になる必要がある。",
        "\\[ x \\overrightarrow{OC} - \\frac{1}{2} \\overrightarrow{OA} = \\lambda \\bigg( -\\frac{1}{2} \\overrightarrow{OA} + \\bigg( \\frac{1}{2} - y \\bigg) \\overrightarrow{OB} + y \\overrightarrow{OC} \\bigg). \\]",
        "ここで \\( \\overrightarrow{OB} \\) の係数が 0 になるには \\( y = \\frac{1}{2} \\) である必要がある。",
        "さらにこのとき \\( x = \\frac{1}{2} \\) ならば、直線は平行になる。",
        "",
        "### 4. 直線が交わる条件",
        "直線が交わるためには、ある実数 \\( s \\), \\( t \\) が存在して、",
        "\\[ \\overrightarrow{OP} + s \\overrightarrow{PX} = \\overrightarrow{OQ} + t \\overrightarrow{QY} \\]",
        "が成り立つ必要がある。",
        "まず、\\( \\overrightarrow{OA} \\) の係数を比較すると、",
        "\\[ \\frac{1 - s}{2} = \\frac{1}{2} - \\frac{t}{2}. \\]",
        "これを整理すると、",
        "\\[ s = t. \\]",
        "次に、\\( \\overrightarrow{OB} \\) の係数を比較すると、",
        "\\[ 0 = \\frac{1}{2} + t \\bigg( \\frac{1}{2} - y \\bigg). \\]",
        "ここで \\( y \\neq \\frac{1}{2} \\) ならば、",
        "\\[ t = \\frac{-\\frac{1}{2}}{\\frac{1}{2} - y} = \\frac{-1}{1 - 2y}. \\]",
        "さらに、\\( \\overrightarrow{OC} \\) の係数を比較すると、",
        "\\[ s x = t y. \\]",
        "これに \\( s = t \\) を代入すると、",
        "\\[ x = y. \\]",
        "したがって、\\( y \\neq \\frac{1}{2} \\) のとき、\\( x = y \\) ならば直線は交わる。",
        "",
        "### 5. ねじれ線の条件",
        "ねじれ線となるためには、直線が交わらず、かつ平行でない必要がある。",
        "そのための必要十分条件は、",
        "\\[ x \\neq y. \\]"
      ]
    }
  },
  {
    "year": 2024,
    "number": 4,
    "category": "理系",
    "content": {
        "question": "与えられた自然数 \\(a_0\\) に対して、自然数からなる数列 \\(a_0, a_1, a_2, \\dots\\) を次のように定める。\n\\[\n a_{n+1} = \\begin{cases}\n \\frac{a_n}{2} & (a_n \\text{ が偶数のとき}) \\\\ \n \\frac{3a_n+1}{2} & (a_n \\text{ が奇数のとき})\n \\end{cases}\n\\]\n次の問いに答えよ。\n\n1. \\(a_0, a_1, a_2, a_3\\) がすべて奇数であるような最小の自然数 \\(a_0\\) を求めよ。\n2. \\(a_0, a_1, \\dots, a_{10}\\) がすべて奇数であるような最小の自然数 \\(a_0\\) を求めよ。",
        "hints": [
            "1. 奇数のときの遷移式 \\( a_{n+1} = \\frac{3a_n+1}{2} \\) を利用し、連続して奇数となる条件を考える。",
            "2. まず \\(a_0, a_1, a_2, a_3\\) がすべて奇数である条件を手計算で調べ、最小の \\(a_0\\) を求める。",
            "3. \\(a_n\\) の一般形を導き、\\(a_{10}\\) まで奇数が続く条件を考える。",
            "4. \\( a_n + 1 \\) に着目し、等比数列の形で表すことで整数条件を満たす最小の \\(a_0\\) を決定する。"
        ],
        "solution": {
            "part1": "最小の \\(a_0\\) は \\( \\mathbf{15} \\) である。",
            "part2": "最小の \\(a_0\\) は \\( \\mathbf{1023} \\) である。"
        },
        "detailedSolution": [
            "### (1) \\(a_0, a_1, a_2, a_3\\) がすべて奇数となる最小の \\(a_0\\) を求める",
            "**ステップ 1：初項と \\(a_1\\) について**",
            "1. \\(a_0\\) は奇数とする。",
            "2. 奇数の場合の遷移式より、\n   \\[ a_1 = \\frac{3a_0+1}{2}. \\]\n   ここで、\\(a_1\\) が奇数である必要がある。",
            "3. \\(a_1\\) が奇数であるためには、分子 \\(3a_0+1\\) が偶数で、かつ 4 で割ったときに余りが \\(2\\) である必要がある。\n   （すなわち、\\(a_1\\) を \\(2k+1\\) と表すと、\\(3a_0+1 = 4k+2\\) となる。）",
            "4. すべての奇数は 4 で割ると余りが 1 または 3 となるが、\n   - もし \\(a_0\\) が 4 で割ると余り 1（\\( a_0 = 4m+1 \\)）ならば、\n     \\[ 3a_0+1 = 3(4m+1) + 1 = 12m+3+1 = 12m+4, \\]\n     となり、\\( a_1 = \\frac{12m+4}{2} = 6m+2 \\) は偶数になる。",
            "5. 一方、\\(a_0\\) が 4 で割ると余り 3（\\( a_0 = 4m+3 \\)）ならば、\n   \\[ 3a_0+1 = 3(4m+3) + 1 = 12m+9+1 = 12m+10, \\]\n   となり、\\( a_1 = \\frac{12m+10}{2} = 6m+5 \\) は奇数になる。",
            "6. したがって、\\( a_0 \\) は 4 で割ると余り 3 となる形、すなわち \\( a_0 = 4m+3 \\) と表せる必要がある。",
            "",
            "**ステップ 2： \\(a_2\\) について**",
            "1. \\(a_1\\) が奇数なので、\n   \\[ a_2 = \\frac{3a_1+1}{2} = \\frac{3(6m+5)+1}{2} = \\frac{18m+15+1}{2} = 9m+8. \\]",
            "2. \\(a_2\\) が奇数であるためには、\\(9m+8\\) が奇数でなければならない。8は偶数であるため、\\(9m\\) が奇数になる必要がある。",
            "3. \\(9m\\) が奇数となるのは、\\(m\\) が奇数の場合のみである。",
            "4. よって、\\(m\\) を奇数と表すために、\\( m = 2k+1 \\)（\\(k\\) は非負整数）とおくと、\n   \\[ a_0 = 4(2k+1)+3 = 8k+4+3 = 8k+7. \\]",
            "",
            "**ステップ 3： \\(a_3\\) について**",
            "1. \\(a_2\\) が奇数なので、\n   \\[ a_3 = \\frac{3a_2+1}{2} = \\frac{3(9m+8)+1}{2}. \\]",
            "2. ここで、すでに \\(m = 2k+1\\) としているため、\\(a_2\\) を \\(k\\) で表すと、\n   \\[ a_2 = 9(2k+1)+8 = 18k+9+8 = 18k+17. \\]",
            "3. よって、\n   \\[ a_3 = \\frac{3(18k+17)+1}{2} = \\frac{54k+51+1}{2} = 27k+26. \\]",
            "4. \\(27k+26\\) が奇数となるためには、26が偶数であることから、\\(27k\\) が奇数でなければならない。",
            "5. \\(27k\\) が奇数となるのは、\\(k\\) が奇数の場合のみである。",
            "6. そこで、\\(k = 2\\ell+1\\)（\\(\\ell\\) は非負整数）とおくと、\n   \\[ a_0 = 8(2\\ell+1)+7 = 16\\ell+8+7 = 16\\ell+15. \\]",
            "7. 最小の \\(a_0\\) を得るために \\(\\ell = 0\\) とすると、\\( a_0 = 15 \\)。",
            "",
            "### (2) \\(a_0, a_1, \\dots, a_{10}\\) がすべて奇数となる最小の \\(a_0\\) を求める",
            "**ステップ 1：漸化式の変形**",
            "1. すべての項が奇数であると仮定すると、各段階で偶数の場合の式は使われず、常に\n   \\[ a_{n+1} = \\frac{3a_n+1}{2} \\]\n   が成立する。",
            "2. \\(a_n + 1\\) に着目し、\\( b_n = a_n + 1 \\) とおくと、\n   \\[ b_{n+1} = \\frac{3a_n+1}{2} + 1 = \\frac{3a_n+1+2}{2} = \\frac{3(a_n+1)}{2} = \\frac{3b_n}{2}. \\]",
            "3. これにより、\\(b_n\\) は初項 \\(b_0 = a_0+1\\) から始まる等比数列となり、\n   \\[ b_n = (a_0+1) \\left(\\frac{3}{2}\\right)^n. \\]",
            "",
            "**ステップ 2：整数であるための条件**",
            "1. \\(a_n\\) は自然数でなければならないため、\\(b_n = a_n+1\\) も自然数である必要がある。",
            "2. 特に \\(n=10\\) のとき、\n   \\[ b_{10} = (a_0+1) \\left(\\frac{3}{2}\\right)^{10} = (a_0+1) \\frac{3^{10}}{2^{10}} \\]\n   が自然数となる必要がある。",
            "3. このためには、\\(a_0+1\\) が \\(2^{10}\\) で割り切れる必要がある。",
            "4. 最小の \\(a_0+1\\) は \\(2^{10} = 1024\\) とすると、\n   \\[ a_0 = 1024 - 1 = 1023. \\]",
            "5. さらに、\\(b_n\\) はこの条件の下で常に整数となり、\\(a_n = b_n - 1\\) は奇数になる。",
            "6. よって、\\(a_0, a_1, \\dots, a_{10}\\) がすべて奇数となる最小の \\(a_0\\) は \\(1023\\) である。"
        ]
    }
  },
  {
    "year": 2024,
    "number": 5,
    "category": "理系",
    "content": {
      "question": "定数 \\( a \\) は \\( a \\geq 1 \\) を満たす。座標平面上で、次の4つの不等式が表す領域を \\( D_a \\) とする。\n\n\\[ x \\geq 0, \\quad \\frac{e^x - e^{-x}}{2} \\leq y, \\quad y \\leq \\frac{e^x + e^{-x}}{2}, \\quad y \\leq a. \\]\n\nこのとき、次の問いに答えよ。\n\n**(1)** 領域 \\( D_a \\) の面積 \\( S_a \\) を求めよ。\n\n**(2)** \\( \\displaystyle\\lim_{a \\to \\infty} S_a \\) を求めよ。",
      "hints": [
        "1. 領域の上側は \\( y = \\frac{e^x + e^{-x}}{2} \\)、ただし \\( y \\leq a \\) で水平に切られる部分がある。",
        "2. 上側の境界 \\( y = a \\) に切り替わる \\( x \\) の値を求める。\\( e^x + e^{-x} = 2a \\) の正根を取る。",
        "3. さらに、下側 \\( y = \\frac{e^x - e^{-x}}{2} \\) と \\( y=a \\) の交点も求める。",
        "4. \\( x \\) の区間を2つに分けて面積を積分し、式をまとめる。",
        "5. 極限では \\( \\sqrt{a^2-1} - \\sqrt{a^2+1} \\) を分母分子に \\( \\sqrt{a^2-1} + \\sqrt{a^2+1} \\) をかけて整理し、\\( a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} \\) については \\( t=1/a \\) と置いて極限を求める。"
      ],
      "solution": "求める面積は\n\\[\nS_a = a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} + \\sqrt{a^2-1} - \\sqrt{a^2+1} + 1.\n\\]\nまた、\\( \\displaystyle \\lim_{a \\to \\infty} S_a = 1 \\) である。",
      "detailedSolution": [
        "### 1. 上側境界 \\( y = \\frac{e^x + e^{-x}}{2} \\) と \\( y=a \\) の交点",
        "この曲線と直線の交点を求めるため、\n\\[\n\\frac{e^x + e^{-x}}{2} = a\n\\]\nを解く。両辺を整理すると、\n\\[\ne^x + e^{-x} = 2a.\n\\]\nここで \\( e^x \\) を \\( X \\) とおくと、\n\\[\nX + \\frac{1}{X} = 2a.\n\\]\nこれを解くと、\n\\[\nX = a + \\sqrt{a^2 - 1}.\n\\]\n（もう一方の \\( a - \\sqrt{a^2 - 1} \\) は \\( a>1 \\) であれば 1 より小さくなるので却下。）",
        "### 2. 下側境界 \\( y = \\frac{e^x - e^{-x}}{2} \\) と \\( y=a \\) の交点",
        "同様に、\n\\[\n\\frac{e^x - e^{-x}}{2} = a\n\\]\nを解くと、\n\\[\ne^x - e^{-x} = 2a.\n\\]\nこれを \\( X = e^x \\) として整理すると、\n\\[\nX^2 - 2aX - 1 = 0.\n\\]\nこの解は\n\\[\nX = a + \\sqrt{a^2 + 1}.\n\\]\nしたがって、\n\\[\nx = \\log (a + \\sqrt{a^2 + 1}).\n\\]",
        "### 3. 領域 \\( D_a \\) の面積 \\( S_a \\) を求める",
        "領域を2つの部分に分けて積分すると、\n\n1. \\( 0 \\leq x \\leq \\log (a + \\sqrt{a^2 - 1}) \\) の範囲では、\n\\[\n\\int_0^{\\log (a + \\sqrt{a^2 - 1})} e^{-x}\\,dx = 1 - \\frac{1}{a + \\sqrt{a^2 - 1}}.\n\\]\n\n2. \\( \\log (a + \\sqrt{a^2 - 1}) \\leq x \\leq \\log (a + \\sqrt{a^2 + 1}) \\) の範囲では、\n\\[\n\\int_{\\log (a + \\sqrt{a^2 - 1})}^{\\log (a + \\sqrt{a^2 + 1})} \\left( a - \\frac{e^x - e^{-x}}{2} \\right) dx.\n\\]\nこの積分を計算すると、\n\\[\n a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} + \\sqrt{a^2-1} - \\sqrt{a^2+1}.\n\\]\n\nこれらを合わせると、\n\\[\nS_a = a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} + \\sqrt{a^2-1} - \\sqrt{a^2+1} + 1.\n\\]",
        "### 4. \\( \\lim_{a \\to \\infty} S_a \\) の計算",
        "#### (1) \\( \\sqrt{a^2-1} - \\sqrt{a^2+1} \\) の極限",
      "分母分子に \\( \\sqrt{a^2-1} + \\sqrt{a^2+1} \\) をかけると、\n\\[\n\\sqrt{a^2-1} - \\sqrt{a^2+1} = \\frac{(a^2-1) - (a^2+1)}{\\sqrt{a^2-1} + \\sqrt{a^2+1}} = \\frac{-2}{\\sqrt{a^2-1} + \\sqrt{a^2+1}}\n\\]\nよって、\\[\n\\lim_{a \\to \\infty} (\\sqrt{a^2-1} - \\sqrt{a^2+1}) = 0.\n\\]",
      "#### (2) \\( a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} \\) の極限",
      "置換 \\( t = 1/a \\) を用いると、\n\\[\n\\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} = \\frac{1 + t\\sqrt{1+t^2}}{1 + t\\sqrt{1-t^2}}.\n\\]\n\\( t \\to 0 \\) でこの分数は \\( 1 \\) に近づき、\n\\[\n\\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} \\to 0.\n\\]\nよって、\n\\[\n\\lim_{a \\to \\infty} a \\log \\frac{a + \\sqrt{a^2+1}}{a + \\sqrt{a^2-1}} = 0.\n\\]",
      "#### (3) 結論",
      "上の結果より、\n\\[\n\\lim_{a \\to \\infty} S_a = 1.\n\\]"
      ]
    }
  },
  {
    "year": 2024,
    "number": 6,
    "category": "理系",
    "content": {
        "question": "自然数 \\( k \\) に対して、\\( a_k=2^{\\sqrt{k}} \\) とする。\n\\( n \\) を自然数とし、\\( a_k \\) の整数部分が \\( n \\) 桁であるような \\( k \\) の個数を \\( N_n \\) とする。\nまた、\\( a_k \\) の整数部分が \\( n \\) 桁であり、その最高位の数字が 1 であるような \\( k \\) の個数を \\( L_n \\) とする。\n次を求めよ。\n\\[ \\lim_{n\\to\\infty}\\frac{L_n}{N_n} \\]",
        "hints": [
            "1. \\( a_k \\) の整数部分が \\( n \\) 桁である条件を対数を用いて表す。",
            "2. \\( N_n \\) と \\( L_n \\) を求めるために、\\( k \\) の取りうる範囲を明確にし、個数を評価する。",
            "3. \\( \\frac{L_n}{N_n} \\) の極限を求めるために、\\( N_n \\) と \\( L_n \\) を厳密に上下から挟む。",
            "4. 上下の不等式を \\( n \\) で割り、極限値を求める。"
        ],
        "solution": "求める極限値は \\( \\log_{10}2 \\) である。",
        "detailedSolution": [
            "### 1. \\( N_n \\) の評価",
            "\\( a_k \\) の整数部分が \\( n \\) 桁であるとは、",
            "\\[ 10^{n-1} \\leq 2^{\\sqrt{k}} < 10^n \\]",
            "を満たすことである。両辺の対数を取ると、",
            "\\[ n - 1 \\leq \\sqrt{k} \\log_{10} 2 < n \\]",
            "となり、これを変形すると、",
            "\\[ \\alpha(n-1)^2 \\leq k < \\alpha n^2, \\quad \\text{ただし} \\quad \\alpha = \\frac{1}{\\log_{10} 2}. \\]",
            "この範囲にある自然数の個数は、",
            "\\[ N_n =  \\{ kは自然数 \\mid \\alpha^2(n-1)^2 \\leq k < \\alpha^2 n^2 \\} \\]",
            "となる。よって、",
            "\\[ \\alpha^2(2n - 1) - 1 \\leq N_n \\leq \\alpha^2(2n - 1) + 1. \\]",
            
            "### 2. \\( L_n \\) の評価",
            "\\( a_k \\) の整数部分が \\( n \\) 桁であり、最高位が 1 であるとは、",
            "\\[ 10^{n-1} \\leq 2^{\\sqrt{k}} < 2 \\times 10^{n-1} \\]",
            "を満たすことである。両辺の対数を取ると、",
            "\\[ n - 1 \\leq \\sqrt{k} \\log_{10} 2 < n - 1 + \\log_{10} 2, \\]",
            "これを変形すると、",
            "\\[ \\alpha^2 (n-1)^2 \\leq k < (\\alpha(n-1) + 1)^2. \\]",
            "この範囲にある自然数の個数は、",
            "\\[ L_n = \\{ kは自然数 \\mid \\alpha^2(n-1)^2 \\leq k < (\\alpha(n-1) + 1)^2 \\} \\]",
            "となる。よって、",
            "\\[ 2\\alpha(n-1) \\leq L_n \\leq 2\\alpha(n-1) + 2. \\]",
            
            "### 3. \\( \\frac{L_n}{N_n} \\) の評価",
            "以上の結果から、",
            "\\[ \\frac{2\\alpha(n-1)}{\\alpha^2(2n-1)+1} \\leq \\frac{L_n}{N_n} \\leq \\frac{2\\alpha(n-1)+2}{\\alpha^2(2n-1)-1}. \\]",
            
            "### 4. 極限の計算",
            "この不等式の両端を \\( n \\) で割ると、",
            "\\[ \\frac{2\\alpha(n-1)}{n(\\alpha^2(2-1/n)+1/n)} \\leq \\frac{L_n}{N_n} \\leq \\frac{2\\alpha(n-1)/n+2/n}{\\alpha^2(2-1/n)-1/n}. \\]",
            "ここで、\\( n \\to \\infty \\) のとき、",
            "\\[ \\frac{n-1}{n} \\to 1, \\quad \\frac{2n-1}{n} \\to 2, \\quad \\frac{1}{n} \\to 0 \\]",
            "となるので、",
            "\\[ \\lim_{n\\to\\infty} \\frac{2\\alpha(n-1)}{\\alpha^2(2n-1)+1} = \\frac{2\\alpha}{2\\alpha^2} = \\frac{1}{\\alpha}. \\]",
            "同様に、",
            "\\[ \\lim_{n\\to\\infty} \\frac{2\\alpha(n-1)+2}{\\alpha^2(2n-1)-1} = \\frac{2\\alpha}{2\\alpha^2} = \\frac{1}{\\alpha}. \\]",
            "したがって、はさみうちの原理より、",
            "\\[ \\lim_{n\\to\\infty} \\frac{L_n}{N_n} = \\frac{1}{\\alpha} = \\log_{10} 2. \\]",
            
            "### 5. 結論",
            "\\[ \\lim_{n\\to\\infty} \\frac{L_n}{N_n} = \\log_{10} 2. \\]"
        ]
    }
  }
];

export default Rikei2024;
